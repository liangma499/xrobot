map $http_upgrade $connection_upgrade {
	default upgrade;
	'' close;
} 
#服务器web
upstream crback_list01 {
	server 127.0.0.1:18089;
	#server 127.0.0.1:18090;
	#server 127.0.0.1:18091;
}
server {
    listen                     80;
    listen                     443 ssl http2;
    server_name                tronrobot.77g.cn;
    ssl_certificate            /data/SLa8lnHk/sites/tronrobot.77g.cn/ssl/site.crt;
    ssl_certificate_key        /data/SLa8lnHk/sites/tronrobot.77g.cn/ssl/site.key;
    ssl_prefer_server_ciphers  on;
    ssl_ciphers                ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!CAMELLIA:!DES:!MD5:!PSK:!RC4;
    ssl_protocols              TLSv1 TLSv1.1 TLSv1.2;
    ssl_session_cache          shared:SSL:5m;
    ssl_session_timeout        5m;
    keepalive_timeout          75s;
    keepalive_requests         100;
    access_log                 /data/SLa8lnHk/sites/tronrobot.77g.cn/log/nginx/access.log;
    error_log                  /data/SLa8lnHk/sites/tronrobot.77g.cn/log/nginx/error.log;

	location / { 
		proxy_http_version 1.1; 
		proxy_pass http://crback_list01; 
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection $connection_upgrade;
		proxy_set_header Host $host;
		proxy_set_header  X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $http_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
		#add_header 'Access-Control-Allow-Origin' '*';
		#add_header 'Access-Control-Allow-Methods' 'GET,POST,OPTIONS,DELETE';
		#add_header 'Access-Control-Allow-Header' 'Content-Type,*';
	} 
}